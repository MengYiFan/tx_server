{"version":3,"sources":["webpack:///src/pages/list.vue","webpack:///./src/pages/list.vue?0def","webpack:///./src/pages/list.vue"],"names":["list","methods","extends_default","Object","vuex_esm","_this","this","openid","_this2","getUserId","data","currentPatientOpenid","pages_list","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_l","item","class","patientOpenid","attrs","data-openid","to","_s","patientName","feeType","feeTypeText","medicalCard","on","click","changeCurrentHandle","_e","name","mode","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"gMAyCAA,+CAIA,yBAKA,KAEAC,QAAAC,OAAAC,OAAAC,EAAA,EAAAD,EACA,+CACA,IAAAE,EAAAC,iCACA,wFAGAC,QAEA,wCAKA,IAAAC,EAAAF,sBACAG,+DAEA,SACAC,gBACAA,oCACAC,6BACA,OCrEAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAR,KAAaS,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,sBAAgCL,EAAAM,GAAA,kBAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAiDE,YAAA,cAAyBL,EAAAO,GAAAP,EAAAJ,KAAA,cAAAY,GAAuC,OAAAL,EAAA,OAAiBE,YAAA,YAAAI,MAAAT,EAAAH,sBAAAW,EAAAE,cAAA,qBAAAC,OAA6GC,cAAAJ,EAAAE,iBAAkCP,EAAA,OAAYE,YAAA,cAAwBF,EAAA,eAAoBE,YAAA,OAAAM,OAA0BE,GAAA,YAAAL,EAAAE,cAAA,WAAiDV,EAAAM,GAAA,eAAAN,EAAAc,GAAAN,EAAAO,aAAA,gBAAAZ,EAAA,SAA6EE,YAAA,WAAAI,MAAA,GAAAD,EAAAQ,QAAA,mBAAoEhB,EAAAM,GAAAN,EAAAc,GAAAN,EAAAS,kBAAAjB,EAAAM,GAAA,KAAAH,EAAA,KAA2DE,YAAA,iBAA2BL,EAAAM,GAAA,oBAAAN,EAAAc,GAAAN,EAAAU,aAAA,oBAAAlB,EAAAM,GAAA,KAAAH,EAAA,OAAgGE,YAAA,YAAAM,OAA+BC,cAAAJ,EAAAE,eAAiCS,IAAKC,MAAApB,EAAAqB,uBAAiCrB,EAAAH,sBAAAW,EAAAE,cAAAP,EAAA,SAAAH,EAAAM,GAAA,WAAAN,EAAAsB,YAA8FtB,EAAAM,GAAA,KAAAH,EAAA,eAAiCE,YAAA,+CAAAM,OAAkEE,GAAA,kBAAqBb,EAAAM,GAAA,WAAAN,EAAAM,GAAA,KAAAH,EAAA,cAAiDQ,OAAOY,KAAA,cAAAC,KAAA,YAAsCrB,EAAA,wBAElxCsB,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA1C,EACAY,GATA,EAVA,SAAA+B,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/5.1ae306f9a4f7c1101970.js","sourcesContent":["<template>\n  <div class=\"list-page\">\n    <div class=\"weui-cells__title\">选择／添加需要就诊的人员</div>\n    <div class=\"list-items\">\n      <div\n        v-for=\"item in data.rows\" \n        :class=\"currentPatientOpenid == item.patientOpenid ? 'current-patient' : ''\"\n        :data-openid=\"item.patientOpenid\" class=\"list-item\">\n        <div class=\"item-info\">\n          <router-link \n            class=\"name\"\n            v-bind:to=\"'/patient/' + item.patientOpenid + '/info'\">\n            {{item.patientName}}\n            <label\n            :class=\"item.feeType == 1 ? 'fee-type-yb' : ''\" \n            class=\"fee-type\">{{item.feeTypeText}}</label>\n          </router-link>\n          <p class=\"medical-card\">\n            就诊卡号：{{item.medicalCard}}\n          </p>\n        </div>\n        <div \n          @click=\"changeCurrentHandle\"\n          class=\"item-flag\"\n          :data-openid=\"item.patientOpenid\">\n          <label v-if=\"currentPatientOpenid == item.patientOpenid\">当前就诊人</label>\n        </div>\n      </div>\n    </div>\n    <router-link \n      v-bind:to=\"'/patient/add'\"\n      class=\"weui-btn weui-btn_plain-primary list-add-btn\">添加就诊人</router-link>\n    <transition name=\"router-slid\" mode=\"out-in\">\n        <router-view></router-view>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex'\n  import { getPatientsList, setCurrentPatient } from '../utils/getData'\n\n  export default {\n    data() {\n      return {\n        currentPatientOpenid: '',\n        data: {\n          rows: []\n        },\n        userId: ''\n      }\n    },\n    methods: {\n      ...mapGetters(['getUserId']),\n      changeCurrentHandle(e) {\n        let openid = e.srcElement.getAttribute('data-openid')\n        setCurrentPatient(this.userId, openid).then(res => {\n          if (res.ret) {\n            this.currentPatientOpenid = openid\n          } else {\n            alert('设置失败了~请稍候再试。')\n          }\n        })\n      }\n    },\n    mounted() {\n      this.userId = this.getUserId()\n      getPatientsList(this.userId).then(res => {\n        if (res.ret) {\n          let data = res.data\n          this.data = Object.assign(data)\n          this.currentPatientOpenid = data.rows[0].currentPatientOpenid\n          this.flag = true\n        }\n      })\n    }\n  }\n</script>\n\n<style lang=\"stylus\">\n  @import '../assets/stylus/fn'\n  .list-page\n    position relative\n    background #F4F4F4\n    min-height 100vh\n    padding-bottom 30px\n\n  .list-item\n    width rem(690)\n    height rem(200)\n    margin 0 auto rem(20)\n    border-radius rem(14)\n    display flex\n    color #2b2b2b\n    border 1px solid #e5e5e5\n    background-color #FFF\n    \n  .list-item:first-child\n    margin-top rem(26)\n    \n  .list-item.current-patient\n    color #fff\n    background-image linear-gradient(0deg, #4343E8 0%, #164DBA 100%)\n  \n  .item-info .fee-type-yb.fee-type\n    color #164DBA\n    background-color rgba(53, 93, 199, 0.1)\n    \n  .current-patient .fee-type-yb.fee-type\n    color #FFF\n    background-color #355dc7\n    \n  .item-info\n    position relative\n    padding rem(30) 0 0 rem(30)\n    flex 1\n    .name\n      height rem(50)\n      line-height rem(50)\n      font-size rem(36)\n      font-weight 600\n    .fee-type\n      font-size rem(22)\n      font-weight normal\n      margin-left rem(20)\n      color #FF8940\n      background-color rgba(255, 137, 64, 0.1)\n      padding 2px 4px\n      border-radius 3px\n      vertical-align text-top\n    .medical-card\n      font-size rem(30)\n      margin-top 5px\n      opacity .8\n      \n  .item-flag\n    position relative\n    width rem(270)\n    float right\n    padding rem(30) 0 0 0\n    &:before\n      content ''\n      position absolute\n      left 0px\n      top 0px\n      width 100%\n      height 100%\n      background url('../assets/images/mask2.png') left center no-repeat\n      background-size 100% 100%\n  \n  .current-patient .item-info .name\n      color #fff\n   .current-patient .item-flag:before\n    opacity 0.05\n\n      \n  .list-add-btn\n    width rem(690)\n    background-color #fff\n    border-color #e5e5e5\n    border-radius rem(14)\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-page\"},[_c('div',{staticClass:\"weui-cells__title\"},[_vm._v(\"选择／添加需要就诊的人员\")]),_vm._v(\" \"),_c('div',{staticClass:\"list-items\"},_vm._l((_vm.data.rows),function(item){return _c('div',{staticClass:\"list-item\",class:_vm.currentPatientOpenid == item.patientOpenid ? 'current-patient' : '',attrs:{\"data-openid\":item.patientOpenid}},[_c('div',{staticClass:\"item-info\"},[_c('router-link',{staticClass:\"name\",attrs:{\"to\":'/patient/' + item.patientOpenid + '/info'}},[_vm._v(\"\\n          \"+_vm._s(item.patientName)+\"\\n          \"),_c('label',{staticClass:\"fee-type\",class:item.feeType == 1 ? 'fee-type-yb' : ''},[_vm._v(_vm._s(item.feeTypeText))])]),_vm._v(\" \"),_c('p',{staticClass:\"medical-card\"},[_vm._v(\"\\n          就诊卡号：\"+_vm._s(item.medicalCard)+\"\\n        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"item-flag\",attrs:{\"data-openid\":item.patientOpenid},on:{\"click\":_vm.changeCurrentHandle}},[(_vm.currentPatientOpenid == item.patientOpenid)?_c('label',[_vm._v(\"当前就诊人\")]):_vm._e()])])})),_vm._v(\" \"),_c('router-link',{staticClass:\"weui-btn weui-btn_plain-primary list-add-btn\",attrs:{\"to\":'/patient/add'}},[_vm._v(\"添加就诊人\")]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"router-slid\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5512704f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5512704f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5512704f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}