webpackJsonp([2],{SCh0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Zqu6"),n={data:function(){return{value:"",dialog:{title:"是否要保存信息",leftBtn:"不保存",rightBtn:"保存",switch:!1},closeFlag:!0}},watch:{canSubmit:function(t,e){}},components:{msDialog:a("TtmE").a},props:["canSubmit","plcaeholderValue"],methods:{closeHandle:function(){this.value="",this.canSubmit=this.closeFlag=!1,this.$emit("changeCanSubmit",!1),document.querySelector(".weui-input").focus()},inputHandle:function(t){this.closeFlag=!!t.target.value,this.$emit("inputHandle",t.target.value)},leftHandle:function(){this.dialog.switch=!1},rightHandle:function(){this.$emit("rightHandle",this.value)},submit:function(){this.canSubmit&&(this.dialog.switch=!0)}},mounted:function(){this.value=this.$route.query.value||"",this.closeFlag=!!this.value,document.querySelector(".weui-input").focus()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"emergency-contact-phone mi-cells"},[a("ms-dialog",{attrs:{dialog:t.dialog},on:{leftHandle:t.leftHandle,rightHandle:function(e){t.rightHandle(e)}}}),t._v(" "),a("div",{staticClass:"weui-cells"},[a("div",{staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__bd ms-input"},[a("i",{staticClass:"close",class:t.closeFlag?"content-show":"content-hidden",on:{click:t.closeHandle}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"weui-input",attrs:{type:"tel",placeholder:t.plcaeholderValue||"请输入",maxlength:"11"},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},function(e){t.inputHandle(e)}]}})])])]),t._v(" "),a("div",{staticClass:"weui-btn-area",on:{click:t.submit}},[a("a",{staticClass:"weui-btn",class:t.canSubmit?"weui-btn_primary":"weui-btn_disabled",attrs:{href:"javascript:",id:"showTooltips"}},[t._v("保存")])])],1)},staticRenderFns:[]};var s={data:function(){return{canSubmit:!1,type:"",plcaeholderValue:"请输入"}},components:{changeData:a("VU/8")(n,c,!1,function(t){a("YhCW")},"data-v-a756e4a8",null).exports},methods:{changeCanSubmit:function(t){this.canSubmit=t},rightHandle:function(t){var e=this,a=this.$route.params.openid,n=void 0;switch(this.type){case"contactname":n=Object(i.a)(a,{emergencyContactName:t});break;case"contactphone":n=Object(i.b)(a,{emergencyContactPhone:t});break;case"height":n=Object(i.d)(a,{height:t},"height");break;case"weight":n=Object(i.d)(a,{weight:t},"weight");break;default:return void alert("出错了")}n.then(function(t){console.log(t),t.ret&&e.$router.go(-1)})},inputHandle:function(t){switch(this.type){case"height":case"weight":var e=t.length;this.canSubmit=!(""==t||e<2);break;case"contactname":var a=t.length;this.canSubmit=!(""==t||a<2||a>10);break;case"contactphone":""!=t&&/^(1[0-9]{10})$/.test(t)?this.canSubmit=!0:this.canSubmit=!1}}},mounted:function(){this.type=this.$route.params.type||"",this.plcaeholderValue+=this.$route.query.plcaeholder||"",document.querySelector(".weui-input").focus()}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"patient-height"},[e("change-data",{attrs:{canSubmit:this.canSubmit,plcaeholderValue:this.plcaeholderValue},on:{inputHandle:this.inputHandle,rightHandle:this.rightHandle,changeCanSubmit:this.changeCanSubmit}})],1)},staticRenderFns:[]};var u=a("VU/8")(s,l,!1,function(t){a("UT5i")},null,null);e.default=u.exports},UT5i:function(t,e){},YhCW:function(t,e){}});
//# sourceMappingURL=2.c14cab5e23d943d19e40.js.map