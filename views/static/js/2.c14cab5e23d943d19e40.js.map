{"version":3,"sources":["webpack:///src/components/changeData.vue","webpack:///./src/components/changeData.vue?c0f2","webpack:///./src/components/changeData.vue","webpack:///src/pages/tplInputChange.vue","webpack:///./src/pages/tplInputChange.vue?2cad","webpack:///./src/pages/tplInputChange.vue"],"names":["changeData","msDialog","focus","value","components_changeData","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","dialog","on","leftHandle","rightHandle","$event","_v","class","closeFlag","click","closeHandle","directives","name","rawName","expression","type","placeholder","plcaeholderValue","maxlength","domProps","input","target","composing","inputHandle","submit","canSubmit","href","id","staticRenderFns","tplInputChange","__webpack_require__","normalizeComponent","ssrContext","data","_this","openid","requestHandle","res","length","pages_tplInputChange","changeCanSubmit","tplInputChange_Component","tplInputChange_normalizeComponent","__webpack_exports__"],"mappings":"qHAkCAA,gCAIA,iBAEA,kBACA,eACA,aAEA,cAEA,kDASAC,mBAAA,UACA,YAEA,+DAGA,kCACA,gCACA,yCACAC,mGAIAC,kDAGA,wDAGAA,+DAIA,4DAKA,qEAEAD,UClFAE,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,qCAA+CF,EAAA,aAAkBG,OAAOC,OAAAR,EAAAQ,QAAoBC,IAAKC,WAAAV,EAAAU,WAAAC,YAAA,SAAAC,GAA2DZ,EAAAW,YAAAC,OAA0BZ,EAAAa,GAAA,KAAAT,EAAA,OAAwBE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,2BAAqCF,EAAA,KAAUE,YAAA,QAAAQ,MAAAd,EAAAe,UAAA,gCAAAN,IAAgFO,MAAAhB,EAAAiB,eAAyBjB,EAAAa,GAAA,KAAAT,EAAA,SAA0Bc,aAAaC,KAAA,QAAAC,QAAA,UAAAvB,MAAAG,EAAA,MAAAqB,WAAA,UAAoEf,YAAA,aAAAC,OAAkCe,KAAA,MAAAC,YAAAvB,EAAAwB,kBAAA,MAAAC,UAAA,MAA0EC,UAAW7B,MAAAG,EAAA,OAAoBS,IAAKkB,OAAA,SAAAf,GAA0BA,EAAAgB,OAAAC,YAAsC7B,EAAAH,MAAAe,EAAAgB,OAAA/B,QAA8B,SAAAe,GAAkBZ,EAAA8B,YAAAlB,cAA2BZ,EAAAa,GAAA,KAAAT,EAAA,OAA8BE,YAAA,gBAAAG,IAAgCO,MAAAhB,EAAA+B,UAAoB3B,EAAA,KAAUE,YAAA,WAAAQ,MAAAd,EAAAgC,UAAA,uCAAAzB,OAA6F0B,KAAA,cAAAC,GAAA,kBAA0ClC,EAAAa,GAAA,eAEjnCsB,oBCCjB,ICWAC,qCAIA,OACA,oBAEA,oBAIA1C,WDtBA2C,EAAA,OAcAC,CACA5C,EACAI,GATA,EAVA,SAAAyC,GACAF,EAAA,SAaA,kBAEA,MAUA,6DCEAG,2BAEA,IAAAC,EAAAxC,0BACAyC,OACAC,OAAA,cACArB,8DAEAkB,IACA,gEAGAA,IACA,8CAGA,UACA,8CAGA,UACA,cAIA,kBADA,sCAKAI,wBAEA,0CAKAtB,UACA,8BAEAuB,oCAMA,gCAGAA,0CAMA,yEAMA,kBAFA,2DAUA,yDACA,yCACAjD,UC9FAkD,GADiB/C,OAFjB,WAA0B,IAAaG,EAAbD,KAAaE,eAA0BC,EAAvCH,KAAuCI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,eAAoBG,OAAOyB,UAAxI/B,KAAwI+B,UAAAR,iBAAxIvB,KAAwIuB,kBAAkEf,IAAKqB,YAA/M7B,KAA+M6B,YAAAnB,YAA/MV,KAA+MU,YAAAoC,gBAA/M9C,KAA+M8C,oBAAmG,IAE3TZ,oBCCjB,IAcAa,EAdAX,EAAA,OAcAY,CACAb,EACAU,GATA,EAVA,SAAAP,GACAF,EAAA,SAaA,KAEA,MAUAa,EAAA,QAAAF,EAAA","file":"static/js/2.c14cab5e23d943d19e40.js","sourcesContent":["<template>\n  <div class=\"emergency-contact-phone mi-cells\">\n    <ms-dialog\n      :dialog=\"dialog\"\n      @leftHandle=\"leftHandle\"\n      @rightHandle=\"rightHandle($event)\"\n      ></ms-dialog>\n    <div class=\"weui-cells\">\n      <div class=\"weui-cell\">\n        <div class=\"weui-cell__bd ms-input\">\n          <i \n            :class=\"closeFlag ? 'content-show' : 'content-hidden'\"\n            @click=\"closeHandle\"\n            class=\"close\"></i>\n          <input\n            v-model=\"value\"\n            @input=\"inputHandle($event)\"\n            class=\"weui-input\" type=\"tel\" \n            :placeholder=\"plcaeholderValue || '请输入'\" maxlength=\"11\">\n        </div>\n      </div>\n    </div>\n    <div \n      @click=\"submit\"\n      class=\"weui-btn-area\">\n      <a :class=\"canSubmit ? 'weui-btn_primary' : 'weui-btn_disabled'\" \n         class=\"weui-btn\" href=\"javascript:\" id=\"showTooltips\">保存</a>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { alterEmergencyContactPhone } from '../utils/getData'\n  import msDialog from './dialog'\n\n  export default {\n    data() {\n      return {\n        value: '',\n        dialog: {\n          title: '是否要保存信息',\n          leftBtn: '不保存',\n          rightBtn: '保存',\n          switch: false\n        },\n        closeFlag: true\n      }\n    },\n    watch: {\n      canSubmit(newVal, oldVal) {\n        // console.log(newVal, oldVal)\n      }\n    },\n    components: {\n      msDialog\n    },\n    props: [\n      'canSubmit', 'plcaeholderValue'\n    ],\n    methods: {\n      closeHandle() {\n        this.value = ''\n        this.canSubmit = this.closeFlag = false\n        this.$emit('changeCanSubmit', false)\n        document.querySelector('.weui-input').focus()\n      },\n      inputHandle(e) {\n        this.closeFlag = e.target.value ? true : false\n        this.$emit('inputHandle', e.target.value)\n      },\n      leftHandle() {\n        this.dialog.switch = false\n      },\n      rightHandle() {\n        this.$emit('rightHandle', this.value)\n      },\n      submit() {\n        if (this.canSubmit) {\n          this.dialog.switch = true\n        }\n      }\n    },\n    mounted() {\n      this.value = this.$route.query.value || ''\n      this.closeFlag = this.value ? true : false\n      document.querySelector('.weui-input').focus()\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  @import '../assets/stylus/fn'\n\n  .ms-input\n    position relative\n    .close\n      content ''\n      position absolute\n      right 0px\n      top 50%\n      margin-top rem2(12.5)\n      background url('../assets/images/close.png') left center no-repeat\n      background-size 100% 100%\n      display block\n      width rem(25)\n      height rem(25)\n      transition all .5s\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/changeData.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"emergency-contact-phone mi-cells\"},[_c('ms-dialog',{attrs:{\"dialog\":_vm.dialog},on:{\"leftHandle\":_vm.leftHandle,\"rightHandle\":function($event){_vm.rightHandle($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"weui-cells\"},[_c('div',{staticClass:\"weui-cell\"},[_c('div',{staticClass:\"weui-cell__bd ms-input\"},[_c('i',{staticClass:\"close\",class:_vm.closeFlag ? 'content-show' : 'content-hidden',on:{\"click\":_vm.closeHandle}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"weui-input\",attrs:{\"type\":\"tel\",\"placeholder\":_vm.plcaeholderValue || '请输入',\"maxlength\":\"11\"},domProps:{\"value\":(_vm.value)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.value=$event.target.value},function($event){_vm.inputHandle($event)}]}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"weui-btn-area\",on:{\"click\":_vm.submit}},[_c('a',{staticClass:\"weui-btn\",class:_vm.canSubmit ? 'weui-btn_primary' : 'weui-btn_disabled',attrs:{\"href\":\"javascript:\",\"id\":\"showTooltips\"}},[_vm._v(\"保存\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a756e4a8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/changeData.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a756e4a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./changeData.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./changeData.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./changeData.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a756e4a8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./changeData.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a756e4a8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/changeData.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"patient-height\">\n    <change-data\n    @inputHandle=\"inputHandle\"\n    @rightHandle=\"rightHandle\"\n    @changeCanSubmit=\"changeCanSubmit\"\n    :canSubmit=\"canSubmit\"\n    :plcaeholderValue=\"plcaeholderValue\"></change-data>\n  </div>\n</template>\n\n<script>\n  import changeData from '../components/changeData'\n  import { alterEmergencyContactName, alterEmergencyContactPhone, alterPatientRecordDetail } from '../utils/getData'\n\n  export default {\n    data() {\n      return {\n        canSubmit: false,\n        type: '',\n        plcaeholderValue: '请输入'\n      }\n    },\n    components: {\n      changeData\n    },\n    methods: {\n      changeCanSubmit(data) {\n        this.canSubmit = data\n      },\n      rightHandle(data) {\n        let openid = this.$route.params.openid,\n            requestHandle\n        switch(this.type) {\n          case 'contactname': {\n            requestHandle = alterEmergencyContactName(openid, { emergencyContactName: data })\n            break\n          }\n          case 'contactphone': {\n            requestHandle = alterEmergencyContactPhone(openid, { emergencyContactPhone: data })\n            break\n          }\n          case 'height': {\n            requestHandle = alterPatientRecordDetail(openid, { height: data }, 'height')\n            break\n          }\n          case 'weight': {\n            requestHandle = alterPatientRecordDetail(openid, { weight: data }, 'weight')\n            break\n          }\n          default: {\n            alert('出错了')\n            return\n          }\n        }\n        requestHandle.then(res => {\n          console.log(res)\n          if (res.ret) {\n            this.$router.go(-1)\n          }\n        })\n      },\n      inputHandle(data) {\n        switch(this.type) {\n          case 'height':\n          case 'weight' : {\n            let length = data.length\n            if (data == '' || length < 2) {\n              this.canSubmit = false\n            } else {\n              this.canSubmit = true\n            }\n            break\n          }\n          case 'contactname': {\n            let length = data.length\n            if (data == '' || length < 2 || length > 10) {\n              this.canSubmit = false\n            } else {\n              this.canSubmit = true\n            }\n            break\n          }\n          case 'contactphone': {\n            if (data == '' || !/^(1[0-9]{10})$/.test(data)) {// 紧急联系人电话号码的规则\n              this.canSubmit = false\n            } else {\n              this.canSubmit = true\n            }\n            break\n          }\n        }\n      }\n    },\n    mounted() {\n      this.type = this.$route.params.type || ''\n      this.plcaeholderValue += this.$route.query.plcaeholder || ''\n      document.querySelector('.weui-input').focus()\n    }\n  }\n</script>\n\n<style lang=\"stylus\">  \n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/tplInputChange.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"patient-height\"},[_c('change-data',{attrs:{\"canSubmit\":_vm.canSubmit,\"plcaeholderValue\":_vm.plcaeholderValue},on:{\"inputHandle\":_vm.inputHandle,\"rightHandle\":_vm.rightHandle,\"changeCanSubmit\":_vm.changeCanSubmit}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ecbbff1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/tplInputChange.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ecbbff1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tplInputChange.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tplInputChange.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tplInputChange.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ecbbff1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./tplInputChange.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/tplInputChange.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}