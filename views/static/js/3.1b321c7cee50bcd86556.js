webpackJsonp([3],{"4k2X":function(t,i){},WJjK:function(t,i){},rS7Z:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("TtmE"),n={data:function(){return{setTim:""}},props:["toptips"],watch:{toptips:function(t,i){var e=this;t.switch&&(clearTimeout(this.setTim),this.setTim=setTimeout(function(){e.toptips.switch=!1,e.$emit("changeToptipsSwitch",!1)},this.toptips.overtime||1e4))}},mounted:function(){var t=this;clearTimeout(this.setTim),this.setTim=setTimeout(function(){t.toptips.switch=!1,t.$emit("changeToptipsSwitch",!1)},this.toptips.overtime||1e4)}},a={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"toptips weui-toptips",class:"toptips-"+(this.toptips.type||"base"),style:{transform:this.toptips.switch?"translateY(0)":"translateY(-30px)"}},[this._v("\n    "+this._s(this.toptips.content)+"\n")])},staticRenderFns:[]};var o=e("VU/8")(n,a,!1,function(t){e("WJjK")},null,null).exports,c=e("Zqu6"),l={data:function(){return{canSubmit:!1,dialog:{title:"操作确认",content:"解绑后将无法查看之前的就诊记录<br>请慎重操作",leftBtn:"不保存",rightBtn:"保存",switch:!1},toptips:{switch:!1,content:"content",type:"error"},mobileNumber:"",verificationCode:"",verificationCodeFlag:!1,openid:""}},components:{msDialog:s.a,msToptips:o},methods:{changeToptipsSwitch:function(t){this.toptips.switch=t},getVerificationCodeHandle:function(){var t=this;11!=this.mobileNumber.length||this.verificationCodeFlag||(this.verificationCodeFlag=!0,setTimeout(function(){t.toptips.switch=!0,t.verificationCode=Math.random().toString(10).substr(2).slice(0,6),t.toptips.content="验证码: "+t.verificationCode},1e3))},leftHandle:function(){this.dialog.switch=!1},rightHandle:function(){var t=this;Object(c.m)(this.openid).then(function(i){i.ret?t.$router.push({path:"/patient"}):(t.dialog.switch=!1,alert(i.errMsg||"出错了"),t.$router.go(-1))})},inputHandle:function(t){t.target.value==this.verificationCode?this.canSubmit=!0:this.canSubmit=!1},submit:function(){this.canSubmit&&(this.dialog.switch=!0)}},mounted:function(){var t=this;this.openid=this.$route.params.openid,Object(c.k)(this.openid).then(function(i){i.ret?t.mobileNumber=i.data.mobileNumber:alert("获得手机号码错误")})}},r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"unbundling-page"},[e("ms-dialog",{attrs:{dialog:t.dialog},on:{leftHandle:t.leftHandle,changeToptipsSwitch:t.changeToptipsSwitch,rightHandle:function(i){t.rightHandle(i)}}}),t._v(" "),e("ms-toptips",{attrs:{toptips:t.toptips}}),t._v(" "),e("div",{staticClass:"weui-cells__title"},[t._v("为了保障安全性，手机验证通过后才可解绑，解绑后将无法查看之前的就诊记录，请慎重操作")]),t._v(" "),e("div",{staticClass:"weui-cells "},[e("div",{staticClass:"weui-cell weui-cell_vcode"},[t._m(0),t._v(" "),e("div",{staticClass:"weui-cell__bd"},[e("input",{staticClass:"weui-input",attrs:{disabled:"",readonly:"",type:"tel",placeholder:"请输入手机号"},domProps:{value:t.mobileNumber}})]),t._v(" "),e("div",{staticClass:"weui-cell__ft"},[e("button",{staticClass:"weui-vcode-btn",on:{click:t.getVerificationCodeHandle}},[t._v("\n            获取验证码\n          ")])])]),t._v(" "),e("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),e("div",{staticClass:"weui-cell__bd"},[e("input",{staticClass:"weui-input",attrs:{type:"text",maxlength:"6",placeholder:"请输入验证码"},on:{input:function(i){t.inputHandle(i)}}})])])]),t._v(" "),e("div",{staticClass:"weui-btn-area",on:{click:t.submit}},[e("a",{staticClass:"weui-btn",class:t.canSubmit?"weui-btn_primary":"weui-btn_disabled",attrs:{href:"javascript:",id:"showTooltips"}},[t._v("确定解锁")])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[this._v("手机号")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[this._v("验证码")])])}]};var u=e("VU/8")(l,r,!1,function(t){e("4k2X")},null,null);i.default=u.exports}});
//# sourceMappingURL=3.1b321c7cee50bcd86556.js.map